<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modern Rack & Rail Grid System - TDD Implementation</title>
  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/pages/home.css" rel="stylesheet">
  <link href="/css/components/demo.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

<nav class="nav-menu py-4 mb-8">
  <div class="container mx-auto">
    <div class="flex gap-8 items-center">
      <a href="/" class="nav-link flex items-center gap-2">
        <span class="material-icons text-lg">home</span>
        Home
      </a>
      <a href="/demo" class="nav-link current flex items-center gap-2">
        <span class="material-icons text-lg">grid_view</span>
        Grid Demo
      </a>
      <a href="/api/grid-info" class="nav-link flex items-center gap-2">
        <span class="material-icons text-lg">api</span>
        API Info
      </a>
      <a href="https://github.com/tailwindlabs/tailwindcss" class="nav-link flex items-center gap-2" target="_blank">
        <span class="material-icons text-lg">description</span>
        Tailwind Docs
      </a>
    </div>
  </div>
</nav>

<div class="viewport-info-panel" id="viewport-info-panel">
  <div class="info-header">Current Viewport</div>
  <div class="info-content" id="breakpoint-indicator">Loading...</div>
</div>


<div class="page-wrapper">
  <h1>Modern Rack & Rail Grid System</h1>
  <p>A CSS Grid/Flexbox-based responsive grid system with two container types:</p>
  <ul>
    <li><strong>Rack</strong>: CSS Grid container with 12-column system and mobile-first responsive behavior</li>
    <li><strong>Rail</strong>: Flexbox container with fixed-width columns and horizontal scrolling</li>
  </ul>
  
  <div class="demo-section">
    <h2>Key Features</h2>
    <ul>
      <li>✅ <strong>Tailwind v4 CSS-First</strong>: Uses modern <code>@theme</code> and <code>@utility</code> syntax</li>
      <li>✅ <strong>Mobile-First</strong>: col-1/2 = 50%, col-3+ = 100% on sm</li>
      <li>✅ <strong>Perfect Centering</strong>: <code>offset-*</code> utilities for precise positioning</li>
      <li>✅ <strong>Modern CSS</strong>: CSS Grid for rack, Flexbox for rail, CSS Custom Properties</li>
    </ul>
  </div>
</div>

<section class="demo-section">
  <div class="page-wrapper">
    <h2>Interactive Column Width Demo</h2>
    <p>Toggle between Rack (CSS Grid) and Rail (Flexbox) containers to see how columns behave differently.</p>
    

      <span style="font-weight: 600; margin-bottom: 1rem; display: block;">Container Type:</span>
      <input type="radio" name="container-type" id="rack-toggle" checked>
      <input type="radio" name="container-type" id="rail-toggle">
      <div class="toggle-switch">
        <label for="rack-toggle" class="rack-label">Rack Container (CSS Grid)</label>
        <label for="rail-toggle" class="rail-label">Rail Container (Flexbox)</label>
      </div>
   
  </div>

  <div id="demo-container" class="rack">
    <% (1..12).each do |i| %>
      <div class="demo-column col-<%= i %>">
        <strong>col-<%= i %></strong>
        <div class="measurement-info" id="col-<%= i %>-info">Loading...</div>
      </div>
    <% end %>
  </div>

  <div class="page-wrapper">
    <div id="rack-code-block" class="code-block">
      <h4>Rack Container (CSS Grid)</h4>
      <pre>&lt;div class="rack"&gt;
  &lt;div class="col-1"&gt;col-1&lt;/div&gt;
  &lt;div class="col-2"&gt;col-2&lt;/div&gt;
  &lt;div class="col-3"&gt;col-3&lt;/div&gt;
  &lt;div class="col-6"&gt;col-6&lt;/div&gt;
  &lt;div class="col-12"&gt;col-12&lt;/div&gt;
&lt;/div&gt;</pre>
      <p><strong>Behavior:</strong> Responsive columns that adapt to viewport size. CSS Grid automatically handles wrapping.</p>
    </div>

    <div id="rail-code-block" class="code-block" style="display: none;">
      <h4>Rail Container (Flexbox)</h4>
      <pre>&lt;div class="rail"&gt;
  &lt;div class="col-1"&gt;col-1&lt;/div&gt;
  &lt;div class="col-2"&gt;col-2&lt;/div&gt;
  &lt;div class="col-3"&gt;col-3&lt;/div&gt;
  &lt;div class="col-6"&gt;col-6&lt;/div&gt;
  &lt;div class="col-12"&gt;col-12&lt;/div&gt;
&lt;/div&gt;</pre>
      <p><strong>Behavior:</strong> Fixed-width columns that create horizontal scroll. Perfect for image galleries and card carousels.</p>
    </div>
  </div>

</section>

<section class="demo-section">
  <div class="page-wrapper">
    <h2>Responsive Behavior</h2>
    <p>The rack system automatically adapts to different viewports:</p>
    <ul>
      <li><strong>sm (< 768px):</strong> col-1 & col-2 = 50% width, col-3+ = 100% width</li>
      <li><strong>md (768px+):</strong> 7-column system - col-1 through col-6 proportional, col-7+ = 100% width</li>
      <li><strong>lg+ (≥ 1024px):</strong> Standard 12-column grid system</li>
    </ul>
  </div>

  <div class="rack">
    <div class="demo-column col-2">
      <strong>col-2</strong>
      <div class="measurement-info" id="responsive-col-2-info-1">Loading...</div>
    </div>
    <div class="demo-column col-8">
      <strong>col-8</strong>
      <div class="measurement-info" id="responsive-col-8-info-1">Loading...</div>
    </div>
    <div class="demo-column col-2">
      <strong>col-2</strong>
      <div class="measurement-info" id="responsive-col-2-info-2">Loading...</div>
    </div>
    <div class="demo-column col-12">
      <strong>col-12</strong>
      <div class="measurement-info" id="responsive-col-12-info-1">Loading...</div>
    </div>
    <div class="demo-column col-6">
      <strong>col-6</strong>
      <div class="measurement-info" id="responsive-col-6-info-1">Loading...</div>
    </div>
    <div class="demo-column col-6">
      <strong>col-6</strong>
      <div class="measurement-info" id="responsive-col-6-info-2">Loading...</div>
    </div>
    <div class="demo-column col-4">
      <strong>col-4</strong>
      <div class="measurement-info" id="responsive-col-4-info-1">Loading...</div>
    </div>
    <div class="demo-column col-4">
      <strong>col-4</strong>
      <div class="measurement-info" id="responsive-col-4-info-2">Loading...</div>
    </div>
    <div class="demo-column col-4">
      <strong>col-4</strong>
      <div class="measurement-info" id="responsive-col-4-info-3">Loading...</div>
    </div>
  </div>

  <div class="page-wrapper">
    <h3>MD Breakpoint: 7-Column System Examples</h3>
    <p>In MD viewport (768px+), these combinations fit perfectly in 3 rows within the 7-column grid:</p>
  </div>

  <div class="rack">
    <div class="demo-column col-1">
      <strong>col-1</strong>
      <div class="measurement-info" id="responsive-col-1-info-1">Loading...</div>
    </div>
    <div class="demo-column col-6">
      <strong>col-6</strong>
      <div class="measurement-info" id="responsive-col-6-info-1">Loading...</div>
    </div>
    <div class="demo-column col-5">
      <strong>col-5</strong>
      <div class="measurement-info" id="responsive-col-5-info-1">Loading...</div>
    </div>
    <div class="demo-column col-2">
      <strong>col-2</strong>
      <div class="measurement-info" id="responsive-col-2-info-1">Loading...</div>
    </div>
    <div class="demo-column col-3">
      <strong>col-3</strong>
      <div class="measurement-info" id="responsive-col-3-info-1">Loading...</div>
    </div>
    <div class="demo-column col-4">
      <strong>col-4</strong>
      <div class="measurement-info" id="responsive-col-4-info-1">Loading...</div>
    </div>
  </div>
</section>

<section class="demo-section">
  <div class="page-wrapper">
    <h2>Perfect Offset System</h2>
    <p>Use <code>offset-*</code> utilities to center content. Offset creates equal space on both sides:</p>
    <div class="code-block">
      <pre>&lt;!-- Each offset should be used only once per row --&gt;
&lt;div class="rack"&gt;
  &lt;div class="offset-3 col-6"&gt;Centered with equal spaces (3+6+3=12)&lt;/div&gt;
&lt;/div&gt;

&lt;div class="rack"&gt;
  &lt;div class="offset-2 col-8"&gt;Offset from left (2+8+2=12)&lt;/div&gt;
&lt;/div&gt;</pre>
    </div>
  </div>

  <div class="offset-demo">
    <div class="rack">
      <div class="demo-column offset-1 col-10">
        <strong>offset-1 col-10</strong>
        <div class="measurement-info">1 + 10 + 1 = 12 ✓</div>
      </div>
    </div>
    <div class="rack">
      <div class="demo-column offset-2 col-8">
        <strong>offset-2 col-8</strong>
        <div class="measurement-info">2 + 8 + 2 = 12 ✓</div>
      </div>
    </div>
    <div class="rack">
      <div class="demo-column offset-3 col-6">
        <strong>offset-3 col-6</strong>
        <div class="measurement-info">3 + 6 + 3 = 12 ✓</div>
      </div>
    </div>
    <div class="rack">
      <div class="demo-column offset-4 col-4">
        <strong>offset-4 col-4</strong>
        <div class="measurement-info">4 + 4 + 4 = 12 ✓</div>
      </div>
    </div>
  </div>
</section>

<div class="page-wrapper">
  <div class="demo-section">
    <h2>Technical Implementation</h2>
    <p>This system is built with:</p>
    <ul>
      <li><strong>Tailwind v4:</strong> CSS-first configuration using <code>@theme</code> and <code>@utility</code></li>
      <li><strong>CSS Grid:</strong> 12-column flexible grid for rack containers</li>
      <li><strong>Flexbox:</strong> Fixed-width columns with horizontal scroll for rail containers</li>
      <li><strong>CSS Custom Properties:</strong> Configurable gaps, padding, and column widths</li>
      <li><strong>Mobile-First:</strong> Responsive breakpoints starting from sm (375px)</li>
      <li><strong>TDD:</strong> Comprehensive test coverage with Jest and jsdom</li>
    </ul>
    
    <div class="code-block">
      <h4>Core CSS Structure</h4>
      <pre>@theme {
  --grid-columns: 12;
  --base-gap: 1rem;
  --container-padding: 1.5rem;
}

@utility rack {
  display: grid;
  grid-template-columns: repeat(var(--grid-columns), 1fr);
  gap: var(--base-gap);
}

@utility rail {
  display: flex;
  gap: var(--base-gap);
  overflow-x: auto;
}</pre>
    </div>
  </div>
</div>

<!-- PSP Debug Plugin Integration -->
<link rel="stylesheet" href="/plugins/psp-debug/styles/debug-mode.css">
<script src="/plugins/psp-debug/scripts/debug-mode.js"></script>
<script src="/js/demo.js"></script>
</body>
</html>